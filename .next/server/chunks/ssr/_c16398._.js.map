{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,yNAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,sLAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AAHA;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,2OAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,+YAAM,UAAU,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,oSAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,ubAAC;QACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,+YAAM,UAAU,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,ubAAC;QACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/components/conversation-input.tsx"],"sourcesContent":["import { useEffect, useRef, useCallback, useMemo } from 'react';\nimport { SendHorizontal } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { BorderBeam } from '@/components/ui/border-beam';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\n\ninterface ConversationInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSubmit: (value: string) => Promise<void>;\n}\n\nconst MAX_CHARS = 2000;\n\nexport function ConversationInput({\n  value,\n  onChange,\n  onSubmit,\n}: ConversationInputProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const handleSubmit = useCallback(async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    if (!value.trim()) return;\n    await onSubmit(value);\n  }, [value, onSubmit]);\n\n  const handleTextareaChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newValue = e.target.value;\n    if (newValue.length <= MAX_CHARS) {\n      onChange(newValue);\n      return;\n    }\n    toast.error('Maximum character limit reached');\n  }, [onChange]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  }, [handleSubmit]);\n\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n\n    textarea.style.height = 'auto';\n    textarea.style.height = `${textarea.scrollHeight}px`;\n  }, [value]);\n\n  const characterCount = useMemo(() => `${value.length}/${MAX_CHARS}`, [value]);\n\n  return (\n    <div className=\"relative duration-500 animate-in fade-in slide-in-from-bottom-4\">\n      <div className=\"relative rounded-xl bg-muted\">\n        <form onSubmit={handleSubmit} className=\"flex flex-col\">\n          <Textarea\n            ref={textareaRef}\n            value={value}\n            onChange={handleTextareaChange}\n            onKeyDown={handleKeyDown}\n            maxLength={MAX_CHARS}\n            placeholder=\"Start a new conversation...\"\n            className=\"min-h-[110px] w-full resize-none overflow-hidden border-0 bg-transparent px-4 py-3 text-base focus-visible:ring-0\"\n            aria-label=\"Conversation input\"\n          />\n\n          <div className=\"flex items-center justify-between border-t px-4 py-2\">\n            <span className=\"text-xs text-muted-foreground\" aria-live=\"polite\">\n              {characterCount}\n            </span>\n\n            <Button\n              type=\"submit\"\n              size=\"icon\"\n              variant=\"ghost\"\n              disabled={!value.trim()}\n              className=\"group relative flex h-8 w-8 items-center\n                justify-center rounded-lg \n                transition-all \n                duration-200 ease-in-out\n                hover:bg-primary hover:text-primary-foreground active:scale-95 disabled:cursor-not-allowed disabled:opacity-50\"\n              aria-label=\"Send message\"\n            >\n              <SendHorizontal\n                className=\"h-4 w-4 transition-transform duration-200 \n                  ease-out group-hover:scale-110\"\n              />\n            </Button>\n          </div>\n        </form>\n\n        <BorderBeam size={250} duration={8} delay={9} />\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;;;AAEA;AACA;AAJA;;;;;;;;AAYA,MAAM,YAAY;AAEX,SAAS,kBAAkB,EAChC,KAAK,EACL,QAAQ,EACR,QAAQ,EACe;IACvB,MAAM,cAAc,CAAA,GAAA,8YAAA,CAAA,SAAM,AAAD,EAAuB;IAEhD,MAAM,eAAe,CAAA,GAAA,8YAAA,CAAA,cAAW,AAAD,EAAE,OAAO;QACtC,GAAG;QACH,IAAI,CAAC,MAAM,IAAI,IAAI;QACnB,MAAM,SAAS;IACjB,GAAG;QAAC;QAAO;KAAS;IAEpB,MAAM,uBAAuB,CAAA,GAAA,8YAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACxC,MAAM,WAAW,EAAE,MAAM,CAAC,KAAK;QAC/B,IAAI,SAAS,MAAM,IAAI,WAAW;YAChC,SAAS;YACT;QACF;QACA,wQAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd,GAAG;QAAC;KAAS;IAEb,MAAM,gBAAgB,CAAA,GAAA,8YAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACjC,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF,GAAG;QAAC;KAAa;IAEjB,CAAA,GAAA,8YAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW,YAAY,OAAO;QACpC,IAAI,CAAC,UAAU;QAEf,SAAS,KAAK,CAAC,MAAM,GAAG;QACxB,SAAS,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,YAAY,CAAC,EAAE,CAAC;IACtD,GAAG;QAAC;KAAM;IAEV,MAAM,iBAAiB,CAAA,GAAA,8YAAA,CAAA,UAAO,AAAD,EAAE,IAAM,GAAG,MAAM,MAAM,CAAC,CAAC,EAAE,WAAW,EAAE;QAAC;KAAM;IAE5E,qBACE,ubAAC;QAAI,WAAU;kBACb,cAAA,ubAAC;YAAI,WAAU;;8BACb,ubAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,ubAAC,6HAAA,CAAA,WAAQ;4BACP,KAAK;4BACL,OAAO;4BACP,UAAU;4BACV,WAAW;4BACX,WAAW;4BACX,aAAY;4BACZ,WAAU;4BACV,cAAW;;;;;;sCAGb,ubAAC;4BAAI,WAAU;;8CACb,ubAAC;oCAAK,WAAU;oCAAgC,aAAU;8CACvD;;;;;;8CAGH,ubAAC,2HAAA,CAAA,SAAM;oCACL,MAAK;oCACL,MAAK;oCACL,SAAQ;oCACR,UAAU,CAAC,MAAM,IAAI;oCACrB,WAAU;oCAKV,cAAW;8CAEX,cAAA,ubAAC,8SAAA,CAAA,iBAAc;wCACb,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAOlB,ubAAC;oBAAW,MAAM;oBAAK,UAAU;oBAAG,OAAO;;;;;;;;;;;;;;;;;AAInD"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/components/suggestion-card.tsx"],"sourcesContent":["import { memo } from 'react';\nimport { motion } from 'framer-motion';\n\nimport type { Suggestion } from '@/data/suggestions';\n\ninterface SuggestionCardProps extends Suggestion {\n  delay?: number;\n  onSelect: (text: string) => void;\n}\n\nexport const SuggestionCard = memo(function SuggestionCard({\n  title,\n  subtitle,\n  delay = 0,\n  onSelect,\n}: SuggestionCardProps) {\n  return (\n    <motion.button\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.4, delay }}\n      whileHover={{\n        scale: 1.01,\n        transition: { duration: 0.2 },\n      }}\n      whileTap={{ scale: 0.99 }}\n      onClick={() => onSelect(title)}\n      className=\"flex w-full flex-col gap-1.5 rounded-xl bg-muted/50 p-3.5 text-left \n        transition-colors duration-200 hover:bg-primary/5 focus:outline-none focus:ring-2 focus:ring-primary\"\n      aria-label={`Suggestion: ${title}`}\n    >\n      <div className=\"text-sm font-medium\">{title}</div>\n      <div className=\"text-xs text-muted-foreground/80\">{subtitle}</div>\n    </motion.button>\n  );\n});\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AASO,MAAM,+BAAiB,CAAA,GAAA,8YAAA,CAAA,OAAI,AAAD,EAAE,SAAS,eAAe,EACzD,KAAK,EACL,QAAQ,EACR,QAAQ,CAAC,EACT,QAAQ,EACY;IACpB,qBACE,ubAAC,wXAAA,CAAA,SAAM,CAAC,MAAM;QACZ,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;QACtB,YAAY;YAAE,UAAU;YAAK;QAAM;QACnC,YAAY;YACV,OAAO;YACP,YAAY;gBAAE,UAAU;YAAI;QAC9B;QACA,UAAU;YAAE,OAAO;QAAK;QACxB,SAAS,IAAM,SAAS;QACxB,WAAU;QAEV,cAAY,CAAC,YAAY,EAAE,OAAO;;0BAElC,ubAAC;gBAAI,WAAU;0BAAuB;;;;;;0BACtC,ubAAC;gBAAI,WAAU;0BAAoC;;;;;;;;;;;;AAGzD"}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/data/suggestions.ts"],"sourcesContent":["export interface Suggestion {\n  id: string;\n  title: string;\n  subtitle: string;\n}\n\nexport const SUGGESTIONS: Suggestion[] = [\n  {\n    id: 'launch-token',\n    title: 'Launch a new token',\n    subtitle: 'deploy a new token on pump.fun',\n  },\n  {\n    id: 'swap-sol-usdc',\n    title: 'Swap 1 SOL for USDC',\n    subtitle: 'using Jupiter to swap on Solana',\n  },\n  {\n    id: 'solana-trends',\n    title: \"What's trending on Solana?\",\n    subtitle: 'find the current market trends',\n  },\n  {\n    id: 'price-feed',\n    title: \"What's the price of SOL?\",\n    subtitle: 'find the current price of SOL',\n  },\n  {\n    id: 'top-gainers-last-24h',\n    title: 'Top gainers in the last 24h',\n    subtitle: 'find the top gainers in the last 24 hours',\n  },\n  {\n    id: 'check-my-wallet',\n    title: 'Check my wallet',\n    subtitle: 'check the portfolio of your wallet',\n  },\n];\n\nexport function getRandomSuggestions(count: number): Suggestion[] {\n  // Ensure we don't request more items than available\n  const safeCount = Math.min(count, SUGGESTIONS.length);\n  const startIndex = Math.floor(Date.now() / 1000) % SUGGESTIONS.length;\n\n  // Create a rotated copy of the array starting from startIndex\n  const rotatedSuggestions = [\n    ...SUGGESTIONS.slice(startIndex),\n    ...SUGGESTIONS.slice(0, startIndex),\n  ];\n\n  // Return only the first safeCount items\n  return rotatedSuggestions.slice(0, safeCount);\n}\n\n"],"names":[],"mappings":";;;;AAMO,MAAM,cAA4B;IACvC;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;IACZ;CACD;AAEM,SAAS,qBAAqB,KAAa;IAChD,oDAAoD;IACpD,MAAM,YAAY,KAAK,GAAG,CAAC,OAAO,YAAY,MAAM;IACpD,MAAM,aAAa,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,QAAQ,YAAY,MAAM;IAErE,8DAA8D;IAC9D,MAAM,qBAAqB;WACtB,YAAY,KAAK,CAAC;WAClB,YAAY,KAAK,CAAC,GAAG;KACzB;IAED,wCAAwC;IACxC,OAAO,mBAAmB,KAAK,CAAC,GAAG;AACrC"}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/lib/debug.ts"],"sourcesContent":["/**\n * Debug mode state from environment variables\n * Can be controlled via NEXT_PUBLIC_DEBUG_MODE environment variable or localStorage\n */\nexport const isDebugMode = (): boolean => {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem('debug-mode') === 'true';\n  }\n  return process.env.NEXT_PUBLIC_DEBUG_MODE === 'true';\n};\n\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error';\n\nexport interface DebugOptions {\n  module?: string;\n  level?: LogLevel;\n  timestamp?: boolean;\n}\n\ntype LogFunction = (message: string, ...args: any[]) => void;\n\nconst logFunctions: Record<LogLevel, LogFunction> = {\n  debug: console.debug,\n  info: console.info,\n  warn: console.warn,\n  error: console.error,\n};\n\n/**\n * Debug logging function\n * @param message The log message\n * @param data Optional data object to log\n * @param options Logging options\n */\nexport function debugLog(\n  message: string,\n  data?: unknown,\n  options: DebugOptions = {}\n): void {\n  if (!isDebugMode()) return;\n\n  const { module = 'APP', level = 'debug', timestamp = true } = options;\n  const logFn = logFunctions[level];\n\n  let prefix = `[${module}] [${level.toUpperCase()}]`;\n  if (timestamp) {\n    prefix = `[${new Date().toISOString()}] ${prefix}`;\n  }\n\n  if (data !== undefined) {\n    logFn(`${prefix} ${message}`, data);\n  } else {\n    logFn(`${prefix} ${message}`);\n  }\n}\n\n/**\n * Create a debug logger for a specific module\n * @param module The module name\n * @returns A debug logger function for the specified module\n */\nexport function createDebugLogger(module: string) {\n  return (message: string, data?: unknown, options: Omit<DebugOptions, 'module'> = {}) => {\n    debugLog(message, data, { ...options, module });\n  };\n}\n\n// Example usage\nconst logger = createDebugLogger('MyModule');\nlogger('This is a debug message', { someData: 123 });\nlogger('This is an error', new Error('Something went wrong'), { level: 'error' });\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AACM,MAAM,cAAc;IACzB,uCAAmC;;IAEnC;IACA,OAAO,6CAAuC;AAChD;AAYA,MAAM,eAA8C;IAClD,OAAO,QAAQ,KAAK;IACpB,MAAM,QAAQ,IAAI;IAClB,MAAM,QAAQ,IAAI;IAClB,OAAO,QAAQ,KAAK;AACtB;AAQO,SAAS,SACd,OAAe,EACf,IAAc,EACd,UAAwB,CAAC,CAAC;IAE1B,IAAI,CAAC,eAAe;IAEpB,MAAM,EAAE,SAAS,KAAK,EAAE,QAAQ,OAAO,EAAE,YAAY,IAAI,EAAE,GAAG;IAC9D,MAAM,QAAQ,YAAY,CAAC,MAAM;IAEjC,IAAI,SAAS,CAAC,CAAC,EAAE,OAAO,GAAG,EAAE,MAAM,WAAW,GAAG,CAAC,CAAC;IACnD,IAAI,WAAW;QACb,SAAS,CAAC,CAAC,EAAE,IAAI,OAAO,WAAW,GAAG,EAAE,EAAE,QAAQ;IACpD;IAEA,IAAI,SAAS,WAAW;QACtB,MAAM,GAAG,OAAO,CAAC,EAAE,SAAS,EAAE;IAChC,OAAO;QACL,MAAM,GAAG,OAAO,CAAC,EAAE,SAAS;IAC9B;AACF;AAOO,SAAS,kBAAkB,MAAc;IAC9C,OAAO,CAAC,SAAiB,MAAgB,UAAwC,CAAC,CAAC;QACjF,SAAS,SAAS,MAAM;YAAE,GAAG,OAAO;YAAE;QAAO;IAC/C;AACF;AAEA,gBAAgB;AAChB,MAAM,SAAS,kBAAkB;AACjC,OAAO,2BAA2B;IAAE,UAAU;AAAI;AAClD,OAAO,oBAAoB,IAAI,MAAM,yBAAyB;IAAE,OAAO;AAAQ"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/server/actions/user.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\n\nimport { PrivyClient } from '@privy-io/server-auth';\nimport { z } from 'zod';\n\nimport prisma from '@/lib/prisma';\nimport { ActionResponse, actionClient } from '@/lib/safe-action';\nimport { generateEncryptedKeyPair } from '@/lib/solana/wallet-generator';\nimport { PrismaUser } from '@/types/db';\n\nconst PRIVY_APP_ID = process.env.NEXT_PUBLIC_PRIVY_APP_ID;\nconst PRIVY_APP_SECRET = process.env.PRIVY_APP_SECRET;\n\nif (!PRIVY_APP_ID || !PRIVY_APP_SECRET) {\n  throw new Error('Lack of necessary environment variables');\n}\n\nconst PRIVY_SERVER_CLIENT = new PrivyClient(PRIVY_APP_ID, PRIVY_APP_SECRET);\n\nconst getOrCreateUser = actionClient\n  .schema(z.object({ userId: z.string() }))\n  .action<ActionResponse<PrismaUser>>(async ({ parsedInput: { userId } }) => {\n    const prismaUser = await prisma.user.findUnique({\n      where: { privyId: userId },\n      include: {\n        wallets: {\n          select: {\n            id: true,\n            ownerId: true,\n            name: true,\n            publicKey: true,\n          },\n        },\n      },\n    });\n\n    if (prismaUser) {\n      return {\n        success: true,\n        data: prismaUser,\n      };\n    }\n\n    const createdUser = await prisma.user.create({ data: { privyId: userId } });\n    const { publicKey, encryptedPrivateKey } = await generateEncryptedKeyPair();\n    const initalWallet = await prisma.wallet.create({\n      data: {\n        ownerId: createdUser.id,\n        name: 'Default',\n        publicKey,\n        encryptedPrivateKey,\n      },\n    });\n\n    return {\n      success: true,\n      data: {\n        ...createdUser,\n        wallets: [\n          {\n            id: initalWallet.id,\n            ownerId: initalWallet.ownerId,\n            name: initalWallet.name,\n            publicKey: initalWallet.publicKey,\n          },\n        ],\n      },\n    };\n  });\n\nexport const verifyUser = actionClient.action<\n  ActionResponse<{ id: string; publicKey?: string }>\n>(async () => {\n  const token = (await cookies()).get('privy-token')?.value;\n\n  if (!token) {\n    return {\n      success: false,\n      error: 'No privy token found',\n    };\n  }\n\n  try {\n    const claims = await PRIVY_SERVER_CLIENT.verifyAuthToken(token);\n    const user = await prisma.user.findUnique({\n      where: { privyId: claims.userId },\n      select: {\n        id: true,\n        wallets: {\n          select: {\n            publicKey: true,\n          },\n          take: 1,\n        },\n      },\n    });\n\n    if (!user) {\n      return {\n        success: false,\n        error: 'User not found',\n      };\n    }\n\n    return {\n      success: true,\n      data: {\n        id: user.id,\n        publicKey: user.wallets[0]?.publicKey,\n      },\n    };\n  } catch (_) {\n    return {\n      success: false,\n      error: 'Authentication failed',\n    };\n  }\n});\n\nexport const getUserData = actionClient.action<ActionResponse<PrismaUser>>(\n  async () => {\n    const token = (await cookies()).get('privy-token')?.value;\n\n    if (!token) {\n      return {\n        success: false,\n        error: 'No privy token found',\n      };\n    }\n\n    try {\n      const claims = await PRIVY_SERVER_CLIENT.verifyAuthToken(token);\n      const response = await getOrCreateUser({ userId: claims.userId });\n      const success = response?.data?.success;\n      const user = response?.data?.data;\n      const error = response?.data?.error;\n\n      if (!success) {\n        return {\n          success: false,\n          error: error,\n        };\n      }\n\n      return {\n        success: true,\n        data: user,\n      };\n    } catch (_) {\n      return {\n        success: false,\n        error: 'Authentication failed',\n      };\n    }\n  },\n);"],"names":[],"mappings":";;;;;;IAwEa;IAiDA"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/hooks/use-user.ts"],"sourcesContent":["'use client';\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { PrivyInterface, usePrivy } from '@privy-io/react-auth';\nimport useSWR from 'swr';\nimport { debugLog } from '@/lib/debug';\nimport { getUserData } from '@/server/actions/user';\nimport { BarkUser, PrismaUser, PrivyUser } from '@/types/db';\n\ntype BarkUserInterface = Omit<PrivyInterface, 'user' | 'ready'> & {\n  isLoading: boolean;\n  user: BarkUser | null;\n};\n\nfunction loadFromCache(): BarkUser | null {\n  try {\n    const cached = localStorage.getItem('bark-user-data');\n    if (cached) {\n      debugLog('Loading user data from cache', cached, {\n        module: 'useUser',\n        level: 'info',\n      });\n      return JSON.parse(cached);\n    }\n    debugLog('No user data found in cache', null, {\n      module: 'useUser',\n      level: 'info',\n    });\n    return null;\n  } catch (error) {\n    debugLog('Failed to load cached user data', error, {\n      module: 'useUser',\n      level: 'error',\n    });\n    return null;\n  }\n}\n\nfunction saveToCache(data: BarkUser | null) {\n  try {\n    if (data) {\n      localStorage.setItem('bark-user-data', JSON.stringify(data));\n      debugLog('User data saved to cache', data, {\n        module: 'useUser',\n        level: 'info',\n      });\n    } else {\n      localStorage.removeItem('bark-user-data');\n      debugLog('User data removed from cache', null, {\n        module: 'useUser',\n        level: 'info',\n      });\n    }\n  } catch (error) {\n    debugLog('Failed to update user cache', error, {\n      module: 'useUser',\n      level: 'error',\n    });\n  }\n}\n\nasync function fetchBarkUserData(\n  privyUser: PrivyUser,\n): Promise<BarkUser | null> {\n  try {\n    const response = await getUserData();\n    if (response?.data?.success && response?.data?.data) {\n      const prismaUser: PrismaUser = response.data.data;\n      debugLog('Retrieved PrismaUser data from server', prismaUser, {\n        module: 'useUser',\n        level: 'info',\n      });\n      return {\n        ...prismaUser,\n        privyUser: privyUser as PrivyUser,\n      } as BarkUser;\n    }\n    debugLog(\n      'Server returned unsuccessful user data response',\n      response?.data?.error,\n      {\n        module: 'useUser',\n        level: 'error',\n      },\n    );\n    return null;\n  } catch (error) {\n    debugLog('Error fetching user data', error, {\n      module: 'useUser',\n      level: 'error',\n    });\n    return null;\n  }\n}\n\nexport function useUser(): BarkUserInterface {\n  const { ready, user: privyUser, ...privyRest } = usePrivy();\n  const [initialCachedUser, setInitialCachedUser] = useState<BarkUser | null>(\n    null,\n  );\n  const router = useRouter();\n\n  useEffect(() => {\n    const cachedUser = loadFromCache();\n    setInitialCachedUser(cachedUser);\n  }, []);\n\n  const swrKey = ready && privyUser?.id ? `user-${privyUser.id}` : null;\n  debugLog('SWR Key', swrKey, { module: 'useUser' });\n\n  const fetcher = useCallback(async (): Promise<BarkUser | null> => {\n    if (!ready || !privyUser) {\n      debugLog('Privy not ready or user not logged in', null, {\n        module: 'useUser',\n        level: 'info',\n      });\n      return null;\n    }\n\n    if (privyUser) {\n      debugLog('Fetching BarkUser data from server', null, {\n        module: 'useUser',\n        level: 'info',\n      });\n      const barkUser = await fetchBarkUserData(privyUser as PrivyUser);\n      debugLog('Merged BarkUser data', barkUser, {\n        module: 'useUser',\n        level: 'info',\n      });\n      return barkUser;\n    }\n    debugLog('No valid BarkUser data retrieved', null, {\n      module: 'useUser',\n      level: 'warn',\n    });\n    return null;\n  }, [ready, privyUser]);\n\n  const { data: barkUser, isValidating: swrLoading } = useSWR<BarkUser | null>(\n    swrKey,\n    fetcher,\n    {\n      fallbackData: initialCachedUser,\n      revalidateOnFocus: false,\n      shouldRetryOnError: false,\n    },\n  );\n\n  debugLog('Current BarkUser data', barkUser, { module: 'useUser' });\n  debugLog('SWR validation status', swrLoading, { module: 'useUser' });\n\n  useEffect(() => {\n    if (barkUser) {\n      saveToCache(barkUser);\n    }\n  }, [barkUser]);\n\n  const isLoading = swrLoading && !initialCachedUser;\n  debugLog('Loading state', { isLoading }, { module: 'useUser' });\n\n  const extendedLogout = useCallback(async () => {\n    debugLog('Initiating user logout...', null, {\n      module: 'useUser',\n      level: 'info',\n    });\n\n    router.push('/refresh');\n\n    try {\n      await privyRest.logout();\n      saveToCache(null);\n      debugLog('User logged out and cache cleared', null, {\n        module: 'useUser',\n        level: 'info',\n      });\n      router.replace('/');\n    } catch (error) {\n      debugLog('Error during logout process', error, {\n        module: 'useUser',\n        level: 'error',\n      });\n      router.replace('/');\n    }\n  }, [privyRest, router]);\n\n  return {\n    ...privyRest,\n    isLoading: isLoading || barkUser == null,\n    user: barkUser || null,\n    logout: extendedLogout,\n  };\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/bark-ai-chatbot/app/home/home-content.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { ConversationInput } from '@/components/conversation-input';\nimport { SuggestionCard } from '@/components/suggestion-card';\nimport { getRandomSuggestions } from '@/data/suggestions';\nimport { useUser } from '@/hooks/use-user';\n\nexport function HomeContent() {\n  const { user } = useUser();\n  const [inputValue, setInputValue] = useState('');\n  const [suggestions] = useState(() => getRandomSuggestions(4));\n\n  const handleInputChange = useCallback((value: string) => {\n    setInputValue(value);\n  }, []);\n\n  const handleSubmit = useCallback(async (value: string) => {\n    // TODO: Implement submission logic\n    console.log('Submitted:', value);\n    setInputValue('');\n  }, []);\n\n  const handleSuggestionSelect = useCallback((text: string) => {\n    setInputValue(text);\n  }, []);\n\n  return (\n    <div className=\"container mx-auto max-w-4xl py-8\">\n      <motion.h1\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"mb-6 text-3xl font-bold\"\n      >\n        Welcome back, {user?.privyUser?.twitter?.username || 'Agent'}!\n      </motion.h1>\n      <motion.p\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.1 }}\n        className=\"mb-8 text-lg text-muted-foreground\"\n      >\n        How can I assist you with Solana today?\n      </motion.p>\n      <ConversationInput\n        value={inputValue}\n        onChange={handleInputChange}\n        onSubmit={handleSubmit}\n      />\n      <AnimatePresence>\n        {!inputValue && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 20 }}\n            transition={{ duration: 0.3 }}\n            className=\"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-2\"\n          >\n            {suggestions.map((suggestion, index) => (\n              <SuggestionCard\n                key={suggestion.id}\n                {...suggestion}\n                delay={index * 0.1}\n                onSelect={handleSuggestionSelect}\n              />\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAEA;AAGA;AACA;AACA;AACA;AALA;AAAA;AAHA;;;;;;;;AAUO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,oHAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,8YAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,GAAG,CAAA,GAAA,8YAAA,CAAA,WAAQ,AAAD,EAAE,IAAM,CAAA,GAAA,mHAAA,CAAA,uBAAoB,AAAD,EAAE;IAE1D,MAAM,oBAAoB,CAAA,GAAA,8YAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACrC,cAAc;IAChB,GAAG,EAAE;IAEL,MAAM,eAAe,CAAA,GAAA,8YAAA,CAAA,cAAW,AAAD,EAAE,OAAO;QACtC,mCAAmC;QACnC,QAAQ,GAAG,CAAC,cAAc;QAC1B,cAAc;IAChB,GAAG,EAAE;IAEL,MAAM,yBAAyB,CAAA,GAAA,8YAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC1C,cAAc;IAChB,GAAG,EAAE;IAEL,qBACE,ubAAC;QAAI,WAAU;;0BACb,ubAAC,wXAAA,CAAA,SAAM,CAAC,EAAE;gBACR,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;oBACX;oBACgB,MAAM,WAAW,SAAS,YAAY;oBAAQ;;;;;;;0BAE/D,ubAAC,wXAAA,CAAA,SAAM,CAAC,CAAC;gBACP,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;oBAAK,OAAO;gBAAI;gBACxC,WAAU;0BACX;;;;;;0BAGD,ubAAC,oIAAA,CAAA,oBAAiB;gBAChB,OAAO;gBACP,UAAU;gBACV,UAAU;;;;;;0BAEZ,ubAAC,uXAAA,CAAA,kBAAe;0BACb,CAAC,4BACA,ubAAC,wXAAA,CAAA,SAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC1B,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;8BAET,YAAY,GAAG,CAAC,CAAC,YAAY,sBAC5B,ubAAC,iIAAA,CAAA,iBAAc;4BAEZ,GAAG,UAAU;4BACd,OAAO,QAAQ;4BACf,UAAU;2BAHL,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;AAWlC"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}